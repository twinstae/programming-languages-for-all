---
title: Lua
description: A guide in my new Starlight docs site.
sidebar:
  order: 10
---

import { LinkCard } from '@astrojs/starlight/components';
import { YouTube } from 'astro-embed';

<div class="not-content">
  <YouTube id="https://youtu.be/jUuqBZwwkQw" />
</div>

```lua
print("Hello, World!")
```

```lua
local function factorial(n)
    if n == 0 or n == 1 then
        return 1
    end

    return n * factorial(n - 1)
end

local function is_integer(n)
    return type(n) == "number" and math.floor(n) == n
end

io.write("enter a number:\n")
local n = assert(io.read("*number"), "your input is not a valid number")

if n < 0 or not is_integer(n) then
    error("your input is not a non-negative number");
end

io.write(factorial(n))
```

## ê³µì‹ ë¬¸ì„œ

<LinkCard
  title="Lua: Getting started"
  description="Welcome! Lua is a powerful and fast programming language that is easy to learn and use and to embed into your application."
  href="https://www.lua.org/"
/>
## ë£¨ì•„ë¥¼ ì“°ëŠ” ê³³

### Redis

<LinkCard
  title="Scripting with Lua | Redis"
  description="Redis lets users upload and execute Lua scripts on the server."
  href="https://redis.io/docs/interact/programmability/eval-intro/"
/>

### Defold : ì˜¤í”ˆì†ŒìŠ¤ ê²Œì„ ì—”ì§„

<LinkCard
  title="Lua programming in Defold"
  description="The Defold engine has the Lua language embedded for scripting."
  href="https://defold.com/manuals/lua/"
/>

### NeoVim : ì—ë””í„°

<LinkCard
  title="Lua - Neovim docs"
  description="The Lua 5.1 script engine is builtin and always available."
  href="https://neovim.io/doc/user/lua.html"
/>
<LinkCard
  title="ë„¤ì˜¤ë¹”ì—ì„œ ë£¨ì•„ ì‚¬ìš©í•˜ê¸°"
  description="ê°œë°œ ì–¸ì–´ë¡œ ë„¤ì˜¤ë¹”ì— í†µí•©ëœ ë£¨ì•„ëŠ” ë„¤ì˜¤ë¹”ì˜ ì£¼ìš”í•œ íŠ¹ì§• ì¤‘ í•˜ë‚˜ë¡œ ìë¦¬ì¡ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë£¨ì•„ë¡œ í”ŒëŸ¬ê·¸ì¸ì„ ì‘ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•œ ìë£ŒëŠ” ë¹”ìŠ¤í¬ë¦½íŠ¸ì— ë¹„í•´ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì‚¬ëŒë“¤ì´ ë” ì‰½ê²Œ ì‹œì‘í•  ìˆ˜ ìˆë„ë¡ ê¸°ë³¸ì ì¸ ì •ë³´ë¥¼ ì œê³µí•˜ë ¤ê³  í•©ë‹ˆë‹¤."
  href="https://github.com/krapjost/nvim-lua-guide-kr"
/>

### OpenResty: í´ë¼ìš°ë“œ í”Œë ˆì–´ì˜ Nginx ê¸°ë°˜ ì¸í”„ë¼

<LinkCard
  title="OpenRestyÂ®"
  description="penRestyÂ® is a full-fledged web platform that integrates our enhanced version of the Nginx core, our enhanced version of LuaJIT, many carefully written Lua libraries, lots of high quality 3rd-party Nginx modules,"
  href="https://openresty.org/en/"
/>

### Hammerspoon : MacOS ìë™í™”

<LinkCard
  title="Hammerspoon"
  description="This is a tool for powerful automation of macOS. At its core, Hammerspoon is just a bridge between the operating system and a Lua scripting engine. "
  href="https://www.hammerspoon.org/"
/>

## ì„¤ì¹˜í•˜ê¸°

### íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ ì„¤ì¹˜í•˜ê¸°

Exercismì€ ë‹¤ì–‘í•œ ì–¸ì–´ì˜ ê°œë°œí™˜ê²½ì„ êµ¬ì¶•í•˜ëŠ” ë²•ì„ ì†Œê°œí•´ì£¼ê³  ìˆìŠµë‹ˆë‹¤. ë£¨ì•„ ì„¤ì¹˜ ê°€ì´ë“œë¥¼ ì°¸ê³ í•©ë‹ˆë‹¤.

<LinkCard
  title="Exercism : Installing Lua locally"
  description="Learn how to install Lua locally to solve Exercism's exercises on your own machine"
  href="https://exercism.org/docs/tracks/lua/installation"
/>

### ì§ì ‘ ë¹Œë“œí•˜ê¸°

ë£¨ì•„ëŠ” C ì†ŒìŠ¤ ì½”ë“œë¥¼ ì§ì ‘ ë¹Œë“œí•´ì„œ ì„¤ì¹˜í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. Mac OS Xì™€ Linux, WSLì—ì„œëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤.

```sh
curl -R -O http://www.lua.org/ftp/lua-5.1.5.tar.gz
tar zxf lua-5.1.5.tar.gz
cd lua-5.1.5
make all test
```

ìœˆë„ìš°ì—ì„œëŠ” ì¢€ ë” ë²ˆê±°ë¡­ìŠµë‹ˆë‹¤.

<LinkCard
  title="Building Lua In Windows For Newbies"
  description="This is a step-by-step tutorial to get up and running with Lua on Microsoft Windows systems by downloading and compiling the sources using only free tools or tools already present on any Windows installation."
  href="http://lua-users.org/wiki/BuildingLuaInWindowsForNewbies"
/>

### LuaJIT

![LuaJITì€ Cë‚˜ Rust ê¸‰ì˜ ì„±ëŠ¥ì„ ë‚¸ë‹¤](https://luascript-blog-assets.s3.eu-west-2.amazonaws.com/benchmarks.svg)
ë™ì  ì–¸ì–´ë¡œ Cë‚˜ Rust ê¸‰ì˜ ì„±ëŠ¥ì„ ë‚´ëŠ” ê²ƒìœ¼ë¡œ ìœ ëª…í•œ Just-In-Time ì»´íŒŒì¼ëŸ¬ë¡œ, Lua 5.1 ë²„ì „ì„ ì§€ì›í•©ë‹ˆë‹¤. LuaJIT ì€ ë§¥ì´ë‚˜ ë¦¬ëˆ…ìŠ¤ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ê°„ë‹¨í•˜ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Luaì˜ ìµœì‹  ë²„ì „ì€ 5.4.6ì´ì§€ë§Œ, NeoVimê³¼ Defold ê²Œì„ì—”ì§„ì„ ë¹„ë¡¯í•´ ë§ì€ ê³³ì—ì„œ Lua 5.1 ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì €í¬ë„ LuaJITê³¼ í˜¸í™˜ë˜ëŠ” 5.1 ë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ í•©ë‹ˆë‹¤.

```sh
git clone https://luajit.org/git/luajit.git
cd luajit
make && sudo make install
```

ìœˆë„ìš°ì—ì„œëŠ” ê³µì‹ ë¬¸ì„œë¥¼ ì°¸ê³ í•©ë‹ˆë‹¤.

<LinkCard
  title="LuaJIT Installation : Windows Systems"
  description="Either install one of the open source SDKs (MinGW or Cygwin), which come with a modified GCC plus the required development headers. Or install Microsoft's Visual Studio (MSVC)."
  href="https://luajit.org/install.html#windows"
/>

## íŠœí† ë¦¬ì–¼

### ì‚¬ì´íŠ¸

<LinkCard
  title="Learn Lua in 15 Minutes (í•œêµ­ì–´íŒ)"
  description="-- ëŒ€ì‹œ ë‘ ê°œëŠ” í•œ ì¤„ì§œë¦¬ ì£¼ì„ì„ ì˜ë¯¸í•©ë‹ˆë‹¤."
  href="https://learnxinyminutes.com/docs/ko-kr/lua-kr/"
/>

<LinkCard
  title="Exercism Lua íŠ¸ë™"
  description="Lua (pronounced LOO-ah, which means Moon in Portuguese) is a simple yet powerful, lightweight, fast, portable and embeddable scripting language. "
  href="https://exercism.org/tracks/lua"
/>

### ì±…

<LinkCard
  title="Programming in Lua (first edition)"
  description="This is the online version of the first edition of the book Programming in Lua, a detailed and authoritative introduction to all aspects of Lua programming written by Lua's chief architect. The first edition was aimed at Lua 5.0."
  href="https://www.lua.org/pil/contents.html"
/>

<LinkCard
  title="Lua 5.1 Reference Manual"
  description="The reference manual is the official definition of the Lua language. For a complete introduction to Lua programming, see the book Programming in Lua."
  href="http://www.lua.org/manual/5.1/"
/>

## ì—ë””í„°, LSP

í¸ë¦¬í•œ ìë™ì™„ì„±ê³¼ ì •ì  ë¶„ì„ ì™¸ì—ë„ ë” ë§ì€ ê±¸ ì œê³µí•©ë‹ˆë‹¤!

<LinkCard
  title="Lua Language Server - Annotations"
  description="The language server does its best to infer types through contextual analysis, however, sometimes manual documentation is necessary to improve completion and signature information. It does this through LuaCATS (Lua Comment And Type System) annotations, which are based off of EmmyLua annotations ."
  href="https://luals.github.io/wiki/annotations/"
/>

```lua
---@param n number
---@return number
local function square_of_sum(n)
  return square(f.sum(f.range(1, n)))
end
```

### VS Code

<LinkCard
  title="Lua: Visual Studio Marketplace"
  description="Lua development just got a whole lot better ğŸ§ "
  href="https://marketplace.visualstudio.com/items?itemName=sumneko.lua"
/>

### NeoVim

## íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € LuaRock

<LinkCard
  title="LuaRock - Quick Start"
  description="If you're just getting started with LuaRocks, these are things you probably want to read first:"
  href="https://github.com/luarocks/luarocks/wiki/Documentation#user-content-Quick_start"
/>

LUA_PATH í™˜ê²½ ë³€ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒì„±í•´ì„œ, `.bashrc`ë‚˜ `.zshrc`ì— í™˜ê²½ë³€ìˆ˜ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.

> If you installed both Lua and LuaRocks in their default directories (/usr/local on Linux and Mac OSX), then the "system" tree is /usr/local and it will work by default. However, the "user" tree (for installing rocks without admin privileges) is not detected by Lua by default. For that we'll need to configure these environment variables.
>
> LuaRocks offers a semi-automated way to do this. If you type the following command:
>
> `luarocks path --bin`

```sh
# .zshrc ì˜ˆì‹œ

export LUA_PATH='/home/taehee/.asdf/downloads/lua/5.1.5/lua-5.1.5/luarocks-3.9.2/src/?.lua;./?.lua;/usr/local/share/lua/5.1/?.lua;/usr/local/share/lua/5.1/?/init.lua;/usr/local/lib/lua/5.1/?.lua;/usr/local/lib/lua/5.1/?/init.lua;;/home/taehee/.luarocks/share/lua/5.1/?.lua;/home/taehee/.luarocks/share/lua/5.1/?/init.lua;/home/taehee/.asdf/installs/lua/5.1.5/luarocks/share/lua/5.1/?.lua;/home/taehee/.asdf/installs/lua/5.1.5/luarocks/share/lua/5.1/?/init.lua'
export LUA_CPATH='./?.so;/usr/local/lib/lua/5.1/?.so;/usr/local/lib/lua/5.1/loadall.so;/home/taehee/.luarocks/lib/lua/5.1/?.so;/home/taehee/.asdf/installs/lua/5.1.5/luarocks/lib/lua/5.1/?.so'

export PATH="/home/taehee/.luarocks/bin:/home/taehee/.asdf/installs/lua/5.1.5/bin:/home/taehee/.asdf/installs/lua/5.1.5/luarocks/bin:$PATH"
```

## test

ë™ì  ì–¸ì–´ì—ëŠ” testê°€ í•„ìš”í•˜ì£ .

### busted

<LinkCard
  title="GitHub - lunarmodules/busted"
  description="Elegant Lua unit testing."
  href="https://github.com/lunarmodules/busted"
/>

```lua
describe('Busted unit testing framework', function()
  describe('should be awesome', function()
    it('should be easy to use', function()
      assert.truthy('Yup.')
    end)

    it('should have lots of features', function()
      -- deep check comparisons!
      assert.same({ table = 'great'}, { table = 'great' })

      -- or check by reference!
      assert.is_not.equals({ table = 'great'}, { table = 'great'})

      assert.falsy(nil)
      assert.error(function() error('Wat') end)
    end)

    it('should provide some shortcuts to common functions', function()
      assert.unique({{ thing = 1 }, { thing = 2 }, { thing = 3 }})
    end)
  end)
end)
```

## repl

### croissant

<LinkCard
  title="GitHub - giann/croissant"
  description="ğŸ¥ A Lua REPL and debugger."
  href="https://github.com/giann/croissant"
/>

![](https://github.com/giann/croissant/raw/master/assets/repl.gif)

## xeus lua notebook

<LinkCard
  title="GitHub - jupyter-xeus/xeus-lua"
  description="Jupyter kernel for the Lua programming language"
  href="https://github.com/jupyter-xeus/xeus-lua"
/>

![](https://github.com/jupyter-xeus/xeus-lua/raw/main/docs/source/execute.gif)

## inspect

tableì„ ì¸ê°„ì´ ì½ì„ ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ toString í•´ì£¼ëŠ” utility

<LinkCard
  title="GitHub - kikito/inspect.lua"
  description="Human-readable representation of Lua tables"
  href="https://github.com/kikito/inspect.lua"
/>

```lua
inspect = require('inspect')

print({1,2,3,4}) --> table: 0x56209c00a690

print(inspect({1,2,3,4})) --> "{ 1, 2, 3, 4 }"

print({a=1,b=2}) --> table: 0x55912b975690

print(inspect({a=1,b=2})) --> "{ a = 1, b = 2 }"
```

## í¬ë§¤í„° LuaFormatter

<LinkCard
  title="GitHub - Koihik/LuaFormatter"
  description="Reformats your Lua source code."
  href="https://github.com/Koihik/LuaFormatter"
/>

c++ ë¡œ ë§Œë“  ë£¨ì•„ í¬ë§¤í„°ë¡œ vscode, vim ì§€ì›

## ë¦°íŠ¸

<LinkCard
  title="GitHub - mpeterv/luacheck"
  description="A tool for linting and static analysis of Lua code."
  href="https://github.com/mpeterv/luacheck"
/>

## ffi

### luaì—ì„œ C++, Rust, zig í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°

### C++, Rust, zigì—ì„œ lua í•¨ìˆ˜ ì‚¬ìš©í•˜ê¸°
